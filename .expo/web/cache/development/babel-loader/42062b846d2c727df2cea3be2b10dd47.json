{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { createContext, useEffect, useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext({\n  token: '',\n  isAuthenticated: false,\n  authenticate: function authenticate(token) {},\n  logout: function logout() {}\n});\n\nfunction AuthContextProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      authToken = _useState2[0],\n      setAuthToken = _useState2[1];\n\n  useEffect(function () {\n    function fetchToken() {\n      var storeToken;\n      return _regeneratorRuntime.async(function fetchToken$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n\n            case 2:\n              storeToken = _context.sent;\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    fat;\n  }, []);\n\n  function authenticate(token) {\n    setAuthToken(token);\n    AsyncStorage.setItem('token', token);\n  }\n\n  ;\n\n  function logout() {\n    setAuthToken(null);\n  }\n\n  ;\n  var value = {\n    token: authToken,\n    isAuthenticated: !!authToken,\n    authenticate: authenticate,\n    logout: logout\n  };\n  return _jsx(AuthContext.Provider, {\n    value: value,\n    children: children\n  });\n}\n\nexport default AuthContextProvider;","map":{"version":3,"names":["createContext","useEffect","useState","AsyncStorage","AuthContext","token","isAuthenticated","authenticate","logout","AuthContextProvider","children","authToken","setAuthToken","fetchToken","getItem","storeToken","fat","setItem","value"],"sources":["C:/Users/ashwa/OneDrive/Desktop/01-starting-code/store/auth-context.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nexport const AuthContext = createContext({\r\n    token: '',\r\n    isAuthenticated: false,\r\n    authenticate: (token) => { },\r\n    logout: () => { },\r\n});\r\n\r\nfunction AuthContextProvider({ children }) {\r\n    const [authToken, setAuthToken] = useState();\r\n    useEffect(() => {\r\n        async function fetchToken() {\r\n\r\n            const storeToken = await AsyncStorage.getItem('token');\r\n        }\r\n        fat\r\n    }, []);\r\n    function authenticate(token) {\r\n        setAuthToken(token);\r\n        AsyncStorage.setItem('token', token);\r\n    };\r\n\r\n    function logout() {\r\n        setAuthToken(null);\r\n    };\r\n\r\n    const value = {\r\n        token: authToken,\r\n        isAuthenticated: !!authToken,\r\n        authenticate: authenticate,\r\n        logout: logout\r\n    };\r\n\r\n    return <AuthContext.Provider value={value} >{children}</AuthContext.Provider>\r\n\r\n}\r\n\r\nexport default AuthContextProvider;"],"mappings":";;AAAA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,YAAP,MAAyB,2CAAzB;;AACA,OAAO,IAAMC,WAAW,GAAGJ,aAAa,CAAC;EACrCK,KAAK,EAAE,EAD8B;EAErCC,eAAe,EAAE,KAFoB;EAGrCC,YAAY,EAAE,sBAACF,KAAD,EAAW,CAAG,CAHS;EAIrCG,MAAM,EAAE,kBAAM,CAAG;AAJoB,CAAD,CAAjC;;AAOP,SAASC,mBAAT,OAA2C;EAAA,IAAZC,QAAY,QAAZA,QAAY;;EACvC,gBAAkCR,QAAQ,EAA1C;EAAA;EAAA,IAAOS,SAAP;EAAA,IAAkBC,YAAlB;;EACAX,SAAS,CAAC,YAAM;IACZ,SAAeY,UAAf;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCAE6BV,YAAY,CAACW,OAAb,CAAqB,OAArB,CAF7B;;YAAA;cAEUC,UAFV;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;;IAIAC,GAAG;EACN,CANQ,EAMN,EANM,CAAT;;EAOA,SAAST,YAAT,CAAsBF,KAAtB,EAA6B;IACzBO,YAAY,CAACP,KAAD,CAAZ;IACAF,YAAY,CAACc,OAAb,CAAqB,OAArB,EAA8BZ,KAA9B;EACH;;EAAA;;EAED,SAASG,MAAT,GAAkB;IACdI,YAAY,CAAC,IAAD,CAAZ;EACH;;EAAA;EAED,IAAMM,KAAK,GAAG;IACVb,KAAK,EAAEM,SADG;IAEVL,eAAe,EAAE,CAAC,CAACK,SAFT;IAGVJ,YAAY,EAAEA,YAHJ;IAIVC,MAAM,EAAEA;EAJE,CAAd;EAOA,OAAO,KAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEU,KAA7B;IAAA,UAAsCR;EAAtC,EAAP;AAEH;;AAED,eAAeD,mBAAf"},"metadata":{},"sourceType":"module"}