{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useContext, useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AuthContent from \"../components/Auth/AuthContent\";\nimport LoadingOverlay from \"../components/ui/LoadingOverlay\";\nimport { login } from \"../util/auth\";\nimport AuthContext from \"../store/\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction LoginScreen() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAuthenticating = _useState2[0],\n      setIsAuthenticating = _useState2[1];\n\n  var authCtx = useContext(AuthContext);\n\n  function loginHandler(_ref) {\n    var email, password;\n    return _regeneratorRuntime.async(function loginHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            email = _ref.email, password = _ref.password;\n            setIsAuthenticating(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(login(email, password));\n\n          case 5:\n            _context.next = 11;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](2);\n            Alert.alert('Authentication failed!', 'could not login. please check your Email and password');\n            window.alert('Authentication failed!', 'could not login. please check your Email and password');\n\n          case 11:\n            setIsAuthenticating(false);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[2, 7]], Promise);\n  }\n\n  if (isAuthenticating) {\n    return _jsx(LoadingOverlay, {\n      message: \"Login you in..\"\n    });\n  }\n\n  return _jsx(AuthContent, {\n    isLogin: true,\n    onAuthenticate: loginHandler\n  });\n}\n\nexport default LoginScreen;","map":{"version":3,"names":["useContext","useState","AuthContent","LoadingOverlay","login","AuthContext","LoginScreen","isAuthenticating","setIsAuthenticating","authCtx","loginHandler","email","password","Alert","alert","window"],"sources":["C:/Users/ashwa/OneDrive/Desktop/01-starting-code/screens/LoginScreen.js"],"sourcesContent":["import { useContext, useState } from 'react';\nimport { Alert } from 'react-native';\nimport AuthContent from '../components/Auth/AuthContent';\nimport LoadingOverlay from '../components/ui/LoadingOverlay';\nimport { login } from '../util/auth';\nimport AuthContext from '../store/'\n\n\nfunction LoginScreen() {\n\n  const [isAuthenticating, setIsAuthenticating]= useState(false);\n  const authCtx =useContext(AuthContext);\n\n\n  async function loginHandler({email, password}) {\n    setIsAuthenticating(true);\n    try{\n\n      await login(email, password);\n    }catch(error){\n      Alert.alert('Authentication failed!', 'could not login. please check your Email and password')\n      window.alert('Authentication failed!', 'could not login. please check your Email and password')\n    }\n    setIsAuthenticating(false);\n  }\n\n  if(isAuthenticating){\n    return <LoadingOverlay message=\"Login you in..\"/>\n  }\n\n  return <AuthContent isLogin onAuthenticate={loginHandler} />;\n}\n\nexport default LoginScreen;\n"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;;AAEA,OAAOC,WAAP;AACA,OAAOC,cAAP;AACA,SAASC,KAAT;AACA,OAAOC,WAAP;;;AAGA,SAASC,WAAT,GAAuB;EAErB,gBAA+CL,QAAQ,CAAC,KAAD,CAAvD;EAAA;EAAA,IAAOM,gBAAP;EAAA,IAAyBC,mBAAzB;;EACA,IAAMC,OAAO,GAAET,UAAU,CAACK,WAAD,CAAzB;;EAGA,SAAeK,YAAf;IAAA;IAAA;MAAA;QAAA;UAAA;YAA6BC,KAA7B,QAA6BA,KAA7B,EAAoCC,QAApC,QAAoCA,QAApC;YACEJ,mBAAmB,CAAC,IAAD,CAAnB;YADF;YAAA;YAAA,iCAIUJ,KAAK,CAACO,KAAD,EAAQC,QAAR,CAJf;;UAAA;YAAA;YAAA;;UAAA;YAAA;YAAA;YAMIC,KAAK,CAACC,KAAN,CAAY,wBAAZ,EAAsC,uDAAtC;YACAC,MAAM,CAACD,KAAP,CAAa,wBAAb,EAAuC,uDAAvC;;UAPJ;YASEN,mBAAmB,CAAC,KAAD,CAAnB;;UATF;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA;;EAYA,IAAGD,gBAAH,EAAoB;IAClB,OAAO,KAAC,cAAD;MAAgB,OAAO,EAAC;IAAxB,EAAP;EACD;;EAED,OAAO,KAAC,WAAD;IAAa,OAAO,MAApB;IAAqB,cAAc,EAAEG;EAArC,EAAP;AACD;;AAED,eAAeJ,WAAf"},"metadata":{},"sourceType":"module"}